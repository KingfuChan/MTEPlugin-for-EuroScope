// MetricAlt.cpp


#include "pch.h"
#include "framework.h"
#include "resource.h"
#include "MetricAlt.h"


// generate RVSM FLAS
const std::map<int, int> m_mft = {
	{  600, 2000},
	{  900, 3000},
	{ 1200, 3900},
	{ 1500, 4900},
	{ 1800, 5900},
	{ 2100, 6900},
	{ 2400, 7900},
	{ 2700, 8900},
	{ 3000, 9800},
	{ 3300,10800},
	{ 3600,11800},
	{ 3900,12800},
	{ 4200,13800},
	{ 4500,14800},
	{ 4800,15700},
	{ 5100,16700},
	{ 5400,17700},
	{ 5700,18700},
	{ 6000,19700},
	{ 6300,20700},
	{ 6600,21700},
	{ 6900,22600},
	{ 7200,23600},
	{ 7500,24600},
	{ 7800,25600},
	{ 8100,26600},
	{ 8400,27600},
	{ 8900,29100},
	{ 9200,30100},
	{ 9500,31100},
	{ 9800,32100},
	{10100,33100},
	{10400,34100},
	{10700,35100},
	{11000,36100},
	{11300,37100},
	{11600,38100},
	{11900,39100},
	{12200,40100},
	{12500,41100},
	{13100,43000},
	{13700,44900},
	{14300,46900},
	{14900,48900},
};

const std::map<int, int> m_ftm = {
	{ 2000,  600},
	{ 3000,  900},
	{ 3900, 1200},
	{ 4900, 1500},
	{ 5900, 1800},
	{ 6900, 2100},
	{ 7900, 2400},
	{ 8900, 2700},
	{ 9800, 3000},
	{10800, 3300},
	{11800, 3600},
	{12800, 3900},
	{13800, 4200},
	{14800, 4500},
	{15700, 4800},
	{16700, 5100},
	{17700, 5400},
	{18700, 5700},
	{19700, 6000},
	{20700, 6300},
	{21700, 6600},
	{22600, 6900},
	{23600, 7200},
	{24600, 7500},
	{25600, 7800},
	{26600, 8100},
	{27600, 8400},
	{29100, 8900},
	{30100, 9200},
	{31100, 9500},
	{32100, 9800},
	{33100,10100},
	{34100,10400},
	{35100,10700},
	{36100,11000},
	{37100,11300},
	{38100,11600},
	{39100,11900},
	{40100,12200},
	{41100,12500},
	{43000,13100},
	{44900,13700},
	{46900,14300},
	{48900,14900},
};

int MetricAlt::MtoFeet(const int meter)
{
	return round(meter * 3.28084);
}

int MetricAlt::FeettoM(const int feet)
{
	return round(feet / 3.28084);
}

int MetricAlt::LvlMtoFeet(const int meter)
{
	return m_mft.count(meter) ? m_mft.at(meter) : MtoFeet(meter);
}

int MetricAlt::LvlFeettoM(const int feet)
{
	return m_ftm.count(feet) ? m_ftm.at(feet) : FeettoM(feet);
}

bool MetricAlt::RflFeettoM(int feet, int& meter) {
	// matches to int& meter
	if (m_ftm.count(feet)) {
		meter = m_ftm.at(feet);
		return true;
	}
	else {
		return false;
	}
}